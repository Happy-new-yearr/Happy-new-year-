<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

<title>HBD love</title>

<link type="text/css" rel="stylesheet" href="./file/default.css">

<script src="./file/jquery.min.js"></script>
<script src="./file/jscex.min.js"></script>
<script src="./file/jscex-parser.js"></script>
<script src="./file/jscex-jit.js"></script>
<script src="./file/jscex-builderbase.min.js"></script>
<script src="./file/jscex-async.min.js"></script>
<script src="./file/jscex-async-powerpack.min.js"></script>
<script src="./file/functions.js"></script>
<script src="./file/love.js"></script>

<script>
function playAudio() {
  document.getElementById("myAudio").play();
}
</script>
</head>

<body>

<audio autoplay id="myAudio">
  <source src="aud.mp3" type="audio/mp3">
</audio>

<div id="main">
  <div id="wrap">
    <div id="text">
      <div id="code">
        <span class="say">My beautiful wife ğŸ’</span><br>
        <span class="say">Happy Birthday ğŸˆ</span><br>
        <span class="say">May Allah bless you ğŸ€</span><br>
        <span class="say">And give you endless happiness ğŸ’•</span><br>
        <span class="say">I love you â¤ï¸</span><br>
        <span class="say">And I always will ğŸ¥ºâ¤ï¸</span><br>
        <span class="say">Never give up, keep moving forward ğŸ¤</span><br>
      </div>
    </div>

    <div id="clock-box">
      <span id="clock">577 days</span>
    </div>

    <canvas id="canvas"></canvas>
  </div>
</div>

<script>
(function () {

  var canvas = $('#canvas');
  var width = $(window).width();
  var height = $(window).height();

  canvas.attr("width", width);
  canvas.attr("height", height);

  var opts = {
    seed: {
      x: width / 2,
      color: "rgb(190,26,37)",
      scale: 3.5
    },
    branch: [
      [535, 680, 570, 250, 500, 200, 30, 100, []]
    ],
    bloom: {
      num: width < 768 ? 400 : 700,
      width: width,
      height: height
    }
  };

  var tree = new Tree(canvas[0], width, height, opts);
  var seed = tree.seed;
  var hold = 1;

  canvas.on("click touchstart", function () {
    playAudio();
    hold = 0;
  });

  var seedAnimate = eval(Jscex.compile("async", function () {
    seed.draw();
    while (hold) {
      $await(Jscex.Async.sleep(10));
    }
    while (seed.canScale()) {
      seed.scale(0.95);
      $await(Jscex.Async.sleep(10));
    }
  }));

  var growAnimate = eval(Jscex.compile("async", function () {
    do {
      tree.grow();
      $await(Jscex.Async.sleep(10));
    } while (tree.canGrow());
  }));

  var flowAnimate = eval(Jscex.compile("async", function () {
    do {
      tree.flower(2);
      $await(Jscex.Async.sleep(10));
    } while (tree.canFlower());
  }));

  var textAnimate = eval(Jscex.compile("async", function () {
    $("#code").fadeIn(3000);
  }));

  var runAsync = eval(Jscex.compile("async", function () {
    $await(seedAnimate());
    $await(growAnimate());
    $await(flowAnimate());
    textAnimate().start();
  }));

  runAsync().start();

})();
</script>

<!-- â„ï¸ Snowflakes -->
<script>
const snowCount = window.innerWidth < 768 ? 50 : 100;

for (let i = 0; i < snowCount; i++) {
  const snow = document.createElement("div");
  snow.className = "snowflake";
  snow.innerHTML = "â„";
  snow.style.left = Math.random() * 100 + "vw";
  snow.style.fontSize = 10 + Math.random() * 20 + "px";
  snow.style.animationDuration = 6 + Math.random() * 10 + "s";
  document.body.appendChild(snow);
}
</script>

</body>
</html>
